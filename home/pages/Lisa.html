<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/st_logo.png">
  <link rel="icon" type="image/png" href="./bin/home.png">
  

  <title>
    Home
  </title>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Noto+Sans:300,400,500,600,700,800|PT+Mono:300,400,500,600,700" rel="stylesheet" />
  <!-- Nucleo Icons -->
  <link href="../assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/349ee9c857.js" crossorigin="anonymous"></script>
  <link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- CSS Files -->
  <link id="pagestyle" href="../assets/css/corporate-ui-dashboard.css?v=1.0.0" rel="stylesheet" />
</head>

<body class="g-sidenav-show  bg-dark-body">
  <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 bg-slate-900 fixed-start " id="sidenav-main">
    <div class="sidenav-header">
      <a class="navbar-brand d-flex align-items-center m-0" href=" https://demos.creative-tim.com/corporate-ui-dashboard/pages/dashboard.html " target="_blank">
       
        <!-- menu column top upd to Dashboard button --><img src="./bin/psw.png" class="icon-angle">
      </a>
    </div>
    <div class="collapse navbar-collapse px-4  w-auto " id="sidenav-collapse-main">
      <ul class="navbar-nav">
       
        <li class="nav-item mt-2">
          <div class="d-flex align-items-center nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="ms-2" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
              <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" />
            </svg>
            <span class="font-weight-normal text-md ms-2">Index</span>
          </div>
        </li>
        <li class="nav-item border-start my-0 pt-2">
          <a class="nav-link position-relative ms-0 ps-2 py-2 " href="./Index.html">
            <span class="nav-link-text ms-1">Home</span>
          </a>
        </li>
        <li class="nav-item border-start my-0 pt-2">
          <a class="nav-link position-relative ms-0 ps-2 py-2 " href="./Dani.html">
            <span class="nav-link-text ms-1">Dani</span>
          </a>
        </li>
        <li class="nav-item border-start my-0 pt-2">
          <a class="nav-link position-relative ms-0 ps-2 py-2 " href="#cap3">
            <span class="nav-link-text ms-1">Lisa</span>
          </a>
        </li>      
      </ul>
    </div>
   
  </aside>
  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg mx-5 px-0 shadow-none rounded" id="navbarBlur" navbar-scroll="true">
      <div class="container-fluid py-1 px-2">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb bg-transparent mb-1 pb-0 pt-1 px-0 me-sm-6 me-5">            
            <h3 class="font-weight-bold mb-0 text-dark active" >Lisa Password</h3>
          </ol>
          
        </nav>
        
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
          <div class="ms-md-auto pe-md-3 d-flex align-items-center">
            <div class="input-group">
               <!-- free -->
            </div>
          </div>
          <ul class="navbar-nav  justify-content-end">
            <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-body p-0" id="iconNavbarSidenav">
                <div class="sidenav-toggler-inner">
                  <i class="sidenav-toggler-line"></i>
                </div>
              </a>
            </li>
            
            
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->
    <div class="container-fluid py-4 px-5">
      <div class="row">
        <div class="col-md-12">
          <div class="d-md-flex align-items-center mb-3 mx-2">
         
          </div>
        </div>
      </div><br>

      <!-- doc data -->
     
      
      
      <div class="container">       
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text" >Tag</span><input type="text" id="sectionl1" class="form-control" placeholder="Insert Tag" aria-label="Recipient's username" aria-describedby="button-addon2">
          <span class="input-group-text">Username</span> <input type="text" id="sectionl3" class="form-control" placeholder="Insert Username" aria-label="Recipient's username" aria-describedby="button-addon2">
          <span class="input-group-text" >Password</span><input type="text" id="sectionl4" class="form-control" placeholder="Insert Password" aria-label="Recipient's username" aria-describedby="button-addon2">
        </div>
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text" >Nome</span><input type="text" id="sectionl2" class="form-control" placeholder="Insert Nome" aria-label="Recipient's username" aria-describedby="button-addon2">
          <span class="input-group-text">Link</span> <input type="text" id="sectionl5" class="form-control" placeholder="Insert Link" aria-label="Recipient's username" aria-describedby="button-addon2">
          <span class="input-group-text" >Note</span><input type="text" id="sectionl6" class="form-control" placeholder="Insert Note" aria-label="Recipient's username" aria-describedby="button-addon2">
        </div>
        
      </div>
      <br>
     
   

      <div class="d-grid gap-2 col-2 mx-auto">
        <button type="button" class="btn btn-sm btn-dark btn-icon d-flex align-items-center mb-0" id="addNewLisa" onclick="addNewPasswordsLisa()">
          
          <span class="btn-inner--text" >Aggiungi</span>
        </button>
      </div>

      <!-- doc data --> <br>
      <hr class="my-0"><br>
      <div class="d-grid gap-2 col-2 mx-auto">
        <button type="button" class="btn btn-sm btn-dark btn-icon d-flex align-items-center mb-0" onclick="fetchDataFromDatabase2()">          
          <span class="btn-inner--text" >View</span>
        </button>
      </div>

      <h3 class="font-weight-bold mb-0 text-dark active" >Password List</h3> 
      <div class="row my-4"id="result" >
        <div class="col-lg-12 col-md-6">
          <div class="card shadow-xs border" >
            <div class="col-12 col-md-12 mb-4">
              <div class="card border shadow-xs h-100">
                <div class="card-header pb-0 p-3">
                  <div class="row" >


                 
                   
                  </div>
                </div>
                
              </div>
            </div>
          </div>
        </div>
      </div>



      

      <footer class="footer pt-3  ">
        <div class="container-fluid">
          <div class="row align-items-center justify-content-lg-between">
            <div class="col-lg-6 mb-lg-0 mb-4">
              <div class="copyright text-center text-xs text-muted text-lg-start">
                Copyright
                © <script>
                  document.write(new Date().getFullYear())
                </script>
                by
                <a href="" class="text-secondary" target="_blank">Daniele Bertocchi</a>.
              </div>
            </div>           
          </div>
        </div>
      </footer>
    </div>
  </main>

  <!--   Core JS Files   -->
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap.min.js"></script>
  <script src="../assets/js/plugins/perfect-scrollbar.min.js"></script>
  <script src="../assets/js/plugins/smooth-scrollbar.min.js"></script>
  <script src="../assets/js/plugins/chartjs.min.js"></script>
  <script src="../assets/js/plugins/swiper-bundle.min.js" type="text/javascript"></script>
  
  <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>
  <!-- Github buttons -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Control Center for Corporate UI Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../assets/js/corporate-ui-dashboard.min.js?v=1.0.0"></script>

  <script>
    // DANIELE SECTION

    // view Data
    function fetchDataFromDatabase2() {
        fetch('http://192.168.1.23:3030/lisa')
            .then(response => response.json())
            .then(data => {
                displayData2(data);
            })
            .catch(error => {
                console.error('Si è verificato un errore:', error);
            });
    }

    function displayData2(data) {
        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = '';

        const searchInput = document.createElement('input');
        searchInput.type = 'text';
        searchInput.placeholder = 'Filtra per tag...';
        searchInput.addEventListener('input', function() {
            const filteredData = data.filter(item => item.tag.toLowerCase().includes(this.value.toLowerCase()));
            displayFilteredData(filteredData);
        });

        resultDiv.appendChild(searchInput);
        
        const table = document.createElement('table');
        const headerRow = document.createElement('tr');

        // Creazione delle intestazioni della tabella basate sulle chiavi dell'oggetto
        for (let key in data[0]) {
            const th = document.createElement('th');
            th.textContent = key;
            headerRow.appendChild(th);
        }
        table.appendChild(headerRow);

        // Aggiunta dei dati alla tabella
        data.forEach(item => {
            const row = document.createElement('tr');
            for (let key in item) {
                const cell = document.createElement('td');
                cell.textContent = item[key];

                if (key === 'tag,name') {
                    cell.classList.add('tag-cell');
                }

                row.appendChild(cell);
            }
            table.appendChild(row);
        });

        resultDiv.appendChild(table);
    }

    function displayFilteredData(filteredData) {


        const resultDiv = document.getElementById('result');
        const table = document.createElement('table');
        const headerRow = document.createElement('tr');

        // Creazione delle intestazioni della tabella basate sulle chiavi dell'oggetto filtrato
        for (let key in filteredData[0]) {
            const th = document.createElement('th');
            th.textContent = key;
            headerRow.appendChild(th);
        }
        table.appendChild(headerRow);

        // Aggiunta dei dati filtrati alla tabella
        filteredData.forEach(item => {
            const row = document.createElement('tr');
            for (let key in item) {
                const cell = document.createElement('td');
                cell.textContent = item[key];

                if (key === 'tag') {
                    cell.classList.add('tag-cell');
                }

                row.appendChild(cell);
            }
            table.appendChild(row);
        });

        resultDiv.querySelector('table').replaceWith(table);
    }

    // view data

    
    // add psw section

    
    function addNewPasswordsLisa() {
        // Recupera i valori dalle sezioni di testo
        const ltag = document.getElementById('sectionl1').value;
        const lname = document.getElementById('sectionl2').value;
        const lusername = document.getElementById('sectionl3').value;
        const lpassword = document.getElementById('sectionl4').value;
        const llink = document.getElementById('sectionl5').value;
        const lnote = document.getElementById('sectionl6').value;

        // Esegui una chiamata al backend per inserire le password nel database
        // Questa parte deve essere implementata lato server con Node.js e PostgreSQL

        // Esempio di fetch per chiamare l'API del backend (da implementare)
        fetch('http://192.168.1.23:3030/addPasswordsLisa', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                ltag,
                lname,
                lusername,
                lpassword,
                llink,
                lnote
            })
        })
        .then(response => response.json())
        .then(data => {
            console.log('Dati inseriti:', data);
            // Qui potresti aggiornare la visualizzazione dei dati nella tua pagina
        })
        .catch(error => {
            console.error('Si è verificato un errore:', error);
        });
    }

    // add psw section

    // DANIELE SECTION

   


</script>


</body>

</html>